<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Modularization · sbt Reference Manual</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='website'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/groups.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>

<!--
<link rel="shortcut icon" href="../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>sbt Reference Manual
</a>
<div class="version-number">
1.0.2
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../getting-started/index.html" class="page">Getting Started with sbt</a>
  <ul>
    <li><a href="../getting-started/setup.html" class="page">Installing sbt</a></li>
    <li><a href="../getting-started/hello-world.html" class="page">Hello, World</a></li>
    <li><a href="../getting-started/running.html" class="page">Running sbt</a></li>
  </ul></li>
  <li><a href="../plugin-developers/index.html" class="page">sbt for Plugin Developers</a>
  <ul>
    <li><a href="../plugin-developers/anatomy.html" class="page">Anatomy of an sbt Plugin</a></li>
    <li><a href="../plugin-developers/testing.html" class="page">Testing sbt Plugins</a></li>
    <li><a href="../plugin-developers/best-practices.html" class="page">Best Practices</a></li>
    <li><a href="../plugin-developers/cross-building.html" class="page">Cross-building Plugins</a></li>
  </ul></li>
  <li><a href="../developing-sbt/index.html" class="page">Developing sbt</a>
  <ul>
    <li><a href="../developing-sbt/modules.html" class="active page">Modularization</a></li>
    <li><a href="../developing-sbt/coding-guidelines.html" class="page">Coding Guidelines</a></li>
    <li><a href="../developing-sbt/sbt-datatype.html" class="page">sbt-datatype</a></li>
    <li><a href="../developing-sbt/compiler-interface/index.html" class="page">Compiler Interface</a></li>
    <li><a href="../developing-sbt/launcher/index.html" class="page">sbt Launcher</a></li>
    <li><a href="../developing-sbt/developer-notes/index.html" class="page">Developer Notes</a></li>
  </ul></li>
  <li><a href="../faq.html" class="page">FAQ</a></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="../index.html">sbt Reference Manual</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>sbt Reference Manual
</a>
<div class="version-number">
1.0.2
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../getting-started/index.html" class="page">Getting Started with sbt</a>
  <ul>
    <li><a href="../getting-started/setup.html" class="page">Installing sbt</a></li>
    <li><a href="../getting-started/hello-world.html" class="page">Hello, World</a></li>
    <li><a href="../getting-started/running.html" class="page">Running sbt</a></li>
  </ul></li>
  <li><a href="../plugin-developers/index.html" class="page">sbt for Plugin Developers</a>
  <ul>
    <li><a href="../plugin-developers/anatomy.html" class="page">Anatomy of an sbt Plugin</a></li>
    <li><a href="../plugin-developers/testing.html" class="page">Testing sbt Plugins</a></li>
    <li><a href="../plugin-developers/best-practices.html" class="page">Best Practices</a></li>
    <li><a href="../plugin-developers/cross-building.html" class="page">Cross-building Plugins</a></li>
  </ul></li>
  <li><a href="../developing-sbt/index.html" class="page">Developing sbt</a>
  <ul>
    <li><a href="../developing-sbt/modules.html" class="active page">Modularization</a></li>
    <li><a href="../developing-sbt/coding-guidelines.html" class="page">Coding Guidelines</a></li>
    <li><a href="../developing-sbt/sbt-datatype.html" class="page">sbt-datatype</a></li>
    <li><a href="../developing-sbt/compiler-interface/index.html" class="page">Compiler Interface</a></li>
    <li><a href="../developing-sbt/launcher/index.html" class="page">sbt Launcher</a></li>
    <li><a href="../developing-sbt/developer-notes/index.html" class="page">Developer Notes</a></li>
  </ul></li>
  <li><a href="../faq.html" class="page">FAQ</a></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="../index.html">sbt Reference Manual</a></li>
  <li><a href="../developing-sbt/index.html">Developing sbt</a></li>
  <li>Modularization</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h2><a href="#modularization" name="modularization" class="anchor"><span class="anchor-link"></span></a>Modularization</h2>
<p>The process we aim to take for sbt 1.0 is to disassemble sbt into smaller modules and layers. To be clear, sbt 0.13&rsquo;s codebase already does consist of numerous subprojects.</p>
<p>Layers are more coarse-grained sets of subproject(s) that can be used independently. Another purpose of the modularization is to distinguish between public API and internal implementation. Reducing the surface area of the sbt code base has several benefits:</p>
<ul>
  <li>It makes it easier for the build users and the plugin authors to learn the APIs.</li>
  <li>It makes it easier for us to maintain binary and semantic compatibilities.</li>
  <li>It encourages the reuse of the modules.</li>
</ul>
<p>The following is a conceptual diagram of the layers:</p>
<p><img src="/1.x/docs/files/module-diagram.png" alt="Module diagram" /></p>
<p>This diagram is arranged such that each layer depends only on the layers underneath it.</p>
<h2><a href="#module-summary" name="module-summary" class="anchor"><span class="anchor-link"></span></a>Module summary</h2>
<h3><a href="#io-api-" name="io-api-" class="anchor"><span class="anchor-link"></span></a>IO API (<a href="https://github.com/sbt/io">sbt/io</a>)</h3>
<p>IO API is a low level API to deal with files and directories.</p>
<h3><a href="#serialization-api-" name="serialization-api-" class="anchor"><span class="anchor-link"></span></a>Serialization API (<a href="https://github.com/sbt/serialization">sbt/serialization</a>)</h3>
<p>Serialization API is an opinionated wrapper around <a href="https://github.com/scala/pickling">Scala Pickling</a>. The responsibility of the serialization API is to turn values into JSON.</p>
<h3><a href="#util-apis-" name="util-apis-" class="anchor"><span class="anchor-link"></span></a>Util APIs (<a href="https://github.com/sbt/util">sbt/util</a>)</h3>
<p>Util APIs provide commonly used features like logging and internal datatypes used by sbt.</p>
<h3><a href="#librarymanagement-api-" name="librarymanagement-api-" class="anchor"><span class="anchor-link"></span></a>LibraryManagement API (<a href="https://github.com/sbt/librarymanagement">sbt/librarymanagement</a>)</h3>
<p>sbt&rsquo;s library management system is based on Apache Ivy, and as such the concepts and terminology around the library management system are also influenced by Ivy. The responsibility of the library management API is to calculate the transitive dependency graph, and download artifacts from the given repositories.</p>
<h3><a href="#incrementalcompiler-api-" name="incrementalcompiler-api-" class="anchor"><span class="anchor-link"></span></a>IncrementalCompiler API (<a href="https://github.com/sbt/zinc">sbt/zinc</a>)</h3>
<p>Incremental compilation of Scala is so fundamental that we now seldom think of it as a feature of sbt. There are number of subprojects/classes involved that are actually internal details, and we should use this opportunity to hide them.</p>
<h3><a href="#build-api-tbd-" name="build-api-tbd-" class="anchor"><span class="anchor-link"></span></a>Build API (tbd)</h3>
<p>This is the part that&rsquo;s exposed to <code>build.sbt</code>. The responsibility of the module is to load the build files and plugins, and provide a way for commands to be executed on the state.</p>
<p>This might remain at <a href="https://github.com/sbt/sbt">sbt/sbt</a>.</p>
<h3><a href="#sbt-launcher-" name="sbt-launcher-" class="anchor"><span class="anchor-link"></span></a>sbt Launcher (<a href="https://github.com/sbt/launcher">sbt/launcher</a>)</h3>
<p>The sbt launcher provides a generic container that can load and run programs resolved using the Ivy dependency manager. sbt uses this as the deployment mechanism, but it can be used for other purposes.</p>
<p>See <a href="https://github.com/foundweekends/conscript">foundweekends/conscript</a> and <a href="Sbt-Launcher.html">Launcher</a> for more details.</p>
<h3><a href="#client-server-tbd-" name="client-server-tbd-" class="anchor"><span class="anchor-link"></span></a>Client/Server (tbd)</h3>
<p>Currently developed in <a href="https://github.com/sbt/sbt-remote-control">sbt/sbt-remote-control</a>. sbt Server provides a JSON-based API wrapping functionality of the command line experience.</p>
<p>One of the clients will be the &ldquo;terminal client&rdquo;, which subsumes the command line sbt shell. Other clients that are planned are IDE integrations.</p>
<h3><a href="#website-" name="website-" class="anchor"><span class="anchor-link"></span></a>Website (<a href="https://github.com/sbt/website">sbt/website</a>)</h3>
<p>This website&rsquo;s source.</p>
<div class="source-github">
The source code for this page can be found <a href="https://github.com/sbt/website/tree/master/src/paradox/developing-sbt/modules.md">here</a>.
</div>

<div class="nav-next">
<p><strong>Next:</strong> <a href="../developing-sbt/coding-guidelines.html">Coding Guidelines</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../developing-sbt/modules.html#modularization" class="header">Modularization</a>
  <ul>
    <li><a href="../developing-sbt/modules.html#module-summary" class="header">Module summary</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2017</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>

</html>
